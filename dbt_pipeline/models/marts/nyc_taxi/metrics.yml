version: 2

metrics:
  - name: total_trips
    label: "Total Trips"
    model: ref('mart_trips_daily')
    description: "Total number of trips per day and service type."
    calculation_method: sum
    expression: trip_count
    timestamp: pickup_date
    time_grains: [day, week, month]
    dimensions:
      - service_type

  - name: total_gross_revenue
    label: "Total Gross Revenue"
    model: ref('mart_trips_daily')
    description: "Total gross revenue per day and service type."
    calculation_method: sum
    expression: gross_revenue
    timestamp: pickup_date
    time_grains: [day, week, month]
    dimensions:
      - service_type

  - name: avg_trip_duration_minutes
    label: "Average Trip Duration (minutes)"
    model: ref('mart_trips_daily')
    description: "Average trip duration per day and service type."
    calculation_method: average
    expression: avg_trip_duration_minutes
    timestamp: pickup_date
    time_grains: [day, week, month]
    dimensions:
      - service_type

